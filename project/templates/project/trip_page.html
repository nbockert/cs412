<!-- templates/project/trip_page.html 
 nbockert@bu.edu
 Allows users to see individual view for trips-->
{% extends 'project/base.html' %}

{% block content %}
<a href="{% url 'trip_feed'%}" class="link_button"><h4>Back to Trip Feed</h4></a>
<div class="trip-post">
    
    

    <!-- Trip Images -->
    <div class="trip-box">
        <!-- Trip Name -->
        <h1 class="post_header">{{ trip.get_full_trip }}</h1>
        {% for image in trip.get_images %}
            <img src="{{ image.image_file.url }}" alt="Trip Image" class="trip-image">
        {% endfor %}
    

    <!-- Poster Information -->
    <div class="poster-info">
        
        {% if trip.account.get_images %}
        {%for img in trip.account.get_images%}
            <img src="{{ img.image_file.url }}" alt="Profile Picture" class="profile-img">
        {%endfor%}
        {% endif %}
        <span class="poster-name">{{ trip.account.first }} {{ trip.account.last }}</span>
    </div>

    <!-- Trip Message and Timestamp -->
    <div class="trip-message">
        <p>{{ trip.message }}</p>
        <small>Posted on: {{ trip.timestamp }}</small>
    </div>
</div>

    <!-- Comments Section -->
    <div class="comments-section">
        <h3 id="comment-head">Comments</h3>
        {% for comment in trip.get_comments %}
            <div class="comment">
                {% if comment.account.get_images %}
                {%for img in comment.account.get_images%}
                <img src="{{img.image_file.url }}" alt="Profile Picture" class="profile-img">
                {%endfor%}
            {% endif %}
            <!-- <span class="poster-name">{{ comment.account.first }} {{ comment.account.last }}</span> -->
                <strong>{{ comment.account.first }} {{ comment.account.last }}:</strong>
                <p>{{ comment.text }}</p>
                <small>{{ comment.published }}</small>
            </div>
        {% endfor %}
    </div>

    <!-- Add Comment Form -->
    <div class="add-comment">
        <a href="{% url 'comment' trip.pk %}" class="chatBtn"><svg height="1.6em" fill="white" xml:space="preserve" viewBox="0 0 1000 1000" y="0px" x="0px" version="1.1">
            <path d="M881.1,720.5H434.7L173.3,941V720.5h-54.4C58.8,720.5,10,671.1,10,610.2v-441C10,108.4,58.8,59,118.9,59h762.2C941.2,59,990,108.4,990,169.3v441C990,671.1,941.2,720.5,881.1,720.5L881.1,720.5z M935.6,169.3c0-30.4-24.4-55.2-54.5-55.2H118.9c-30.1,0-54.5,24.7-54.5,55.2v441c0,30.4,24.4,55.1,54.5,55.1h54.4h54.4v110.3l163.3-110.2H500h381.1c30.1,0,54.5-24.7,54.5-55.1V169.3L935.6,169.3z M717.8,444.8c-30.1,0-54.4-24.7-54.4-55.1c0-30.4,24.3-55.2,54.4-55.2c30.1,0,54.5,24.7,54.5,55.2C772.2,420.2,747.8,444.8,717.8,444.8L717.8,444.8z M500,444.8c-30.1,0-54.4-24.7-54.4-55.1c0-30.4,24.3-55.2,54.4-55.2c30.1,0,54.4,24.7,54.4,55.2C554.4,420.2,530.1,444.8,500,444.8L500,444.8z M282.2,444.8c-30.1,0-54.5-24.7-54.5-55.1c0-30.4,24.4-55.2,54.5-55.2c30.1,0,54.4,24.7,54.4,55.2C336.7,420.2,312.3,444.8,282.2,444.8L282.2,444.8z"></path>
            </svg>
            <span class="tooltip">Comment</span></a>
    </div>
</div>
{% endblock %}
